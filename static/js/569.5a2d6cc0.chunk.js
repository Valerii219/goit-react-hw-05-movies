"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[569],{569:function(e,t,n){n.r(t);var r=n(439),i=n(791),o=n(689),s=n(87),a=n(859),c=n(323),u=n(184);t.default=function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=t[0],l=t[1],m=(0,i.useState)([]),h=(0,r.Z)(m,2),f=h[0],p=h[1],d=(0,o.TH)(),v=(0,i.useRef)(!0),_=(0,s.lr)(),j=(0,r.Z)(_,2),k=j[0],x=j[1],Z=k.get("q");(0,i.useEffect)((function(){!Z&&x({})}),[Z,x]),(0,i.useEffect)((function(){v.current&&Z&&((0,c.on)(Z).then((function(e){return e.ok?e.json():Promise.reject("Network response was not ok")})).then((function(e){var t=e.results.map((function(e){return{id:e.id,title:e.title||e.original_name}}));p(t)})).catch((function(e){console.error("Error fetching movies:",e)})),v.current=!1)}),[Z]);return(0,u.jsxs)("div",{children:[(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(l(""),(0,c.on)(n).then((function(e){return e.ok?e.json():Promise.reject("Network response was not ok")})).then((function(e){var t=e.results.map((function(e){return{id:e.id,title:e.title||e.original_name}}));p(t)})).catch((function(e){console.error("Error fetching movies:",e)})),x({q:n})):alert("Write something in input")},children:[(0,u.jsx)("input",{type:"text",placeholder:"Search movies",value:n,onChange:function(e){l(e.currentTarget.value.toLowerCase())},className:a.Z.input}),(0,u.jsx)("button",{type:"submit",className:a.Z.btnForm,children:"Search"})]}),(0,u.jsx)("div",{children:f.length>0?(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:a.Z.trend,children:"Movie List"}),(0,u.jsx)("ul",{className:a.Z.list,children:f.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(s.rU,{to:"/movies/".concat(e.id),className:a.Z.movieList,state:{from:d},children:e.title||e.original_name})},e.id)}))})]}):""})]})}},859:function(e,t){t.Z={trend:"PopularMovies_trend__0aKrE",movieList:"PopularMovies_movieList__ZCMie",list:"PopularMovies_list__5t5yK",input:"PopularMovies_input__haKoq",btnForm:"PopularMovies_btnForm__9ZK8N"}}}]);
//# sourceMappingURL=569.5a2d6cc0.chunk.js.map