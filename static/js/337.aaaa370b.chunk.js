"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[337],{337:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var n=i(439),c=i(791),s=i(323),r=i(689),o=i(87),a=i(280),l={btn:"DetailsMovies_btn__0bJcD",text:"DetailsMovies_text__ZnTGD",justify:"DetailsMovies_justify__ZCvD3",title:"DetailsMovies_title__uwEd5",img:"DetailsMovies_img__ElaYm",link:"DetailsMovies_link__aAJ6G",ul:"DetailsMovies_ul__NKdQT"},u=i(184),d=function(){var e,t,i=(0,c.useState)({}),d=(0,n.Z)(i,2),v=d[0],f=d[1],h=(0,r.UO)().id,m=(0,r.s0)(),_=null!==(e=null===(t=(0,r.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";(0,c.useEffect)((function(){localStorage.setItem("detailsMovie",JSON.stringify(v))}),[v]),(0,c.useEffect)((function(){(0,s.s_)(h).then((function(e){return e.ok?e.json():Promise.reject("Network response was not ok")})).then((function(e){var t={id:e.id,title:e.title||e.original_name,img:e.backdrop_path,score:Math.ceil(10*Number(e.vote_average)),overview:e.overview,genres:e.genres};f(t)})).catch((function(e){console.error("Error fetching movie details:",e)}));var e=JSON.parse(localStorage.getItem("detailsMovie"));e?f(e):(0,s.s_)(h).then((function(e){return e.ok?e.json():Promise.reject("Network response was not ok")})).then((function(e){var t={id:e.id,title:e.title||e.original_name,img:e.backdrop_path,score:Math.ceil(10*Number(e.vote_average)),overview:e.overview,genres:e.genres};f(t)})).catch((function(e){console.error("Error fetching movie details:",e)}))}),[h]);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:function(){m(_)},className:l.btn,children:"Back"})}),v.id&&(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{className:l.img,src:v.img?"https://image.tmdb.org/t/p/w500/".concat(v.img):a,alt:"Movie Poster"}),(0,u.jsx)("h2",{className:l.title,children:v.title}),(0,u.jsxs)("p",{className:l.text,children:["Users score: ",v.score,"%"]}),(0,u.jsx)("h2",{className:l.title,children:"Overview"}),(0,u.jsx)("p",{className:"".concat(l.text," ").concat(l.justify),children:v.overview}),(0,u.jsx)("h2",{className:l.title,children:"Genres"}),(0,u.jsx)("ul",{className:l.q,children:v.genres&&v.genres.map((function(e){return(0,u.jsx)("li",{className:l.text,children:e.name},e.id)}))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:l.title,children:"Additional information"}),(0,u.jsxs)("ul",{className:l.ul,children:[(0,u.jsx)("li",{children:(0,u.jsx)(o.OL,{to:"cast",className:l.link,children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(o.OL,{to:"review",className:l.link,children:"Reviews"})})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(r.j3,{})})]})}},323:function(e,t,i){i.d(t,{Jh:function(){return a},_r:function(){return l},on:function(){return r},qw:function(){return s},s_:function(){return o}});var n="https://api.themoviedb.org/3/",c="920c36ff8242d8709b1534f84ec52659",s=function(){return fetch("".concat(n,"trending/all/day?api_key=").concat(c))},r=function(e){return fetch("".concat(n,"search/movie?api_key=").concat(c,"&query=").concat(e))},o=function(e){return fetch("".concat(n,"movie/").concat(e,"?api_key=").concat(c))},a=function(e){return fetch("".concat(n,"movie/").concat(e,"/credits?api_key=").concat(c))},l=function(e){return fetch("".concat(n,"movie/").concat(e,"/reviews?api_key=").concat(c))}},280:function(e,t,i){e.exports=i.p+"static/media/noImages.f147cce9b72afa444184.jpg"}}]);
//# sourceMappingURL=337.aaaa370b.chunk.js.map