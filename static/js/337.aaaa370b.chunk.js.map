{"version":3,"file":"static/js/337.aaaa370b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/DetailsMovies/DetailsMovies.module.css?ecfe","components/DetailsMovies/DetailsMovies.jsx","services/getMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"DetailsMovies_btn__0bJcD\",\"text\":\"DetailsMovies_text__ZnTGD\",\"justify\":\"DetailsMovies_justify__ZCvD3\",\"title\":\"DetailsMovies_title__uwEd5\",\"img\":\"DetailsMovies_img__ElaYm\",\"link\":\"DetailsMovies_link__aAJ6G\",\"ul\":\"DetailsMovies_ul__NKdQT\"};","import React, { useEffect, useState } from 'react';\nimport { getDetails } from 'services/getMovies';\nimport { NavLink, useParams, Outlet, useNavigate, useLocation, } from 'react-router-dom';\nimport noImages from '../../images/noImages.jpg';\n\nimport css from './DetailsMovies.module.css'\n\nconst DetailsMovies = () => {\n  const [detailsMovie, setDetailsMovie] = useState({});\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const backLink = location.state?.from ?? \"/\";\n  useEffect(() => {\n    localStorage.setItem('detailsMovie', JSON.stringify(detailsMovie));\n  }, [detailsMovie]);\n \n\n  useEffect(() => {\n    getDetails(id)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject('Network response was not ok');\n      })\n      .then((data) => {\n        const details = {\n          id: data.id,\n          title: data.title || data.original_name,\n          img: data.backdrop_path,\n          score: Math.ceil(Number(data.vote_average) * 10),\n          overview: data.overview,\n          genres: data.genres,\n        };\n        setDetailsMovie(details);\n      })\n      .catch((error) => {\n        console.error('Error fetching movie details:', error);\n      });\n\n    const savedDetails = JSON.parse(localStorage.getItem('detailsMovie'));\n    if (savedDetails) {\n      setDetailsMovie(savedDetails);\n    } else {\n      getDetails(id)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject('Network response was not ok');\n      })\n      .then((data) => {\n        const details = {\n          id: data.id,\n          title: data.title || data.original_name,\n          img: data.backdrop_path,\n          score: Math.ceil(Number(data.vote_average) * 10),\n          overview: data.overview,\n          genres: data.genres,\n        };\n        setDetailsMovie(details);\n      })\n      .catch((error) => {\n        console.error('Error fetching movie details:', error);\n      });\n    }\n  }, [id]);\n  \n  const hadleBack = ()=>{\n    navigate(backLink)\n  }\n  return (\n    <div>\n      <div>\n        <button onClick={hadleBack} className={css.btn}>Back</button>\n      </div>\n      {detailsMovie.id && (\n        <div>\n          <img className={css.img}\n            src={\n              detailsMovie.img\n                ? `https://image.tmdb.org/t/p/w500/${detailsMovie.img}`\n                : noImages\n            }\n            alt=\"Movie Poster\"\n          />\n          <h2 className={css.title}>{detailsMovie.title}</h2>\n          <p className={css.text}>Users score: {detailsMovie.score}%</p>\n          <h2 className={css.title}>Overview</h2>\n          <p className={`${css.text} ${css.justify}`}>{detailsMovie.overview}</p>\n          <h2 className={css.title}>Genres</h2>\n          <ul className={css.q}>\n            {detailsMovie.genres &&\n              detailsMovie.genres.map((genre) => (\n                <li  key={genre.id} className={css.text}>{genre.name}</li>\n              ))}\n          </ul>\n        </div>\n      )}\n      <div>\n        <p className={css.title}>Additional information</p>\n        <ul className={css.ul}>\n          <li>\n            <NavLink to={`cast`} className={css.link}>Cast</NavLink>\n          </li>\n          <li>\n            <NavLink to={`review`} className={css.link}>Reviews</NavLink>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default DetailsMovies;","const BASE_URL = 'https://api.themoviedb.org/3/'\nconst API_KEY ='920c36ff8242d8709b1534f84ec52659'\nexport const getMoviesAllDay =()=>{\n    return fetch(`${BASE_URL}trending/all/day?api_key=${API_KEY}`)\n    \n}\n\nexport const getSearch = (query) =>{\n    return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`) \n}\n\nexport const getDetails = (movieId)=>{\n    return fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}`) \n}\n\nexport const getCredits = (movieId)=>{\n    return fetch(`${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`) \n}\n\nexport const getReviews = (movieId)=>{\n    return fetch(`${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`) \n}\n\n\n\n"],"names":["useState","detailsMovie","setDetailsMovie","id","useParams","navigate","useNavigate","backLink","useLocation","state","from","useEffect","localStorage","setItem","JSON","stringify","getDetails","then","response","ok","json","Promise","reject","data","details","title","original_name","img","backdrop_path","score","Math","ceil","Number","vote_average","overview","genres","catch","error","console","savedDetails","parse","getItem","onClick","className","css","src","noImages","alt","map","genre","name","to","BASE_URL","API_KEY","getMoviesAllDay","fetch","getSearch","query","movieId","getCredits","getReviews"],"sourceRoot":""}