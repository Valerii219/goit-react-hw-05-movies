"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[569],{569:function(t,e,n){n.r(e);var r=n(439),o=n(791),i=n(689),c=n(87),a=n(859),u=n(323),s=n(184);e.default=function(){var t=(0,o.useState)(""),e=(0,r.Z)(t,2),n=e[0],l=e[1],f=(0,o.useState)([]),h=(0,r.Z)(f,2),m=h[0],p=h[1],v=(0,i.TH)(),d=(0,o.useRef)(!0),_=(0,c.lr)(),k=(0,r.Z)(_,2),j=k[0],g=k[1],w=j.get("q");(0,o.useEffect)((function(){!w&&g({})}),[w,g]),(0,o.useEffect)((function(){d.current&&w&&((0,u.on)(w).then((function(t){return t.ok?t.json():Promise.reject("Network response was not ok")})).then((function(t){var e=t.results.map((function(t){return{id:t.id,title:t.title||t.original_name}}));p(e)})).catch((function(t){console.error("Error fetching movies:",t)})),d.current=!1)}),[w]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==n.trim()?(l(""),(0,u.on)(n).then((function(t){return t.ok?t.json():Promise.reject("Network response was not ok")})).then((function(t){var e=t.results.map((function(t){return{id:t.id,title:t.title||t.original_name}}));p(e)})).catch((function(t){console.error("Error fetching movies:",t)})),g({q:n})):alert("Write something in input")},children:[(0,s.jsx)("input",{type:"text",placeholder:"Search movies",value:n,onChange:function(t){l(t.currentTarget.value.toLowerCase())},className:a.Z.input}),(0,s.jsx)("button",{type:"submit",className:a.Z.btnForm,children:"Search"})]}),(0,s.jsx)("div",{children:m.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:a.Z.trend,children:"Movie List"}),(0,s.jsx)("ul",{className:a.Z.list,children:m.map((function(t){return(0,s.jsx)("li",{children:(0,s.jsx)(c.rU,{to:"/movies/".concat(t.id),className:a.Z.movieList,state:{from:v},children:t.title||t.original_name})},t.id)}))})]}):""})]})}},323:function(t,e,n){n.d(e,{Jh:function(){return u},_r:function(){return s},on:function(){return c},qw:function(){return i},s_:function(){return a}});var r="https://api.themoviedb.org/3/",o="920c36ff8242d8709b1534f84ec52659",i=function(){return fetch("".concat(r,"trending/all/day?api_key=").concat(o))},c=function(t){return fetch("".concat(r,"search/movie?api_key=").concat(o,"&query=").concat(t))},a=function(t){return fetch("".concat(r,"movie/").concat(t,"?api_key=").concat(o))},u=function(t){return fetch("".concat(r,"movie/").concat(t,"/credits?api_key=").concat(o))},s=function(t){return fetch("".concat(r,"movie/").concat(t,"/reviews?api_key=").concat(o))}},859:function(t,e){e.Z={trend:"PopularMovies_trend__0aKrE",movieList:"PopularMovies_movieList__ZCMie",list:"PopularMovies_list__5t5yK",input:"PopularMovies_input__haKoq",btnForm:"PopularMovies_btnForm__9ZK8N"}}}]);
//# sourceMappingURL=569.e8bd8f2c.chunk.js.map